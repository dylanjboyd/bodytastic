{% extends "base.html" %}
{% load medication_extras %}
{% load humanize %}
{% block title %}
    {% medicine_icon %}
    <div class="content">
        {{ object }}
        <div class="sub header">{{ consumptions.count|apnumber|title }} consumptions</div>
    </div>
{% endblock title %}
{% block content %}
    <a class="ui small basic button"
       href="{% url 'medication:medicine-index' %}">
        <i aria-hidden="true" class="left arrow icon"></i>
        Back to Medicines
    </a>
    <div class="ui hidden divider"></div>
    <div class="ui relaxed stackable grid">
        <div class="eight wide column">
            <h3 class="ui header">
                Consumptions&nbsp;
                <a href="{% url 'medication:consumption-create' medicinepk=object.pk %}"
                   class="mini icon ui button">
                    <i aria-hidden="true" class="icon plus"></i>
                </a>
            </h3>
            {% consumption_table consumptions %}
        </div>
        <div class="eight wide column">
            <h3 class="ui header">
                Schedules&nbsp;
                <a href="{% url 'medication:schedule-create' medicinepk=object.pk %}"
                   class="mini icon ui button">
                    <i aria-hidden="true" class="icon plus"></i>
                </a>
            </h3>
            <div class="ui cards">
                {% for schedule in schedules %}
                    {% schedule_card schedule %}
                {% empty %}
                    <p>
                        Nothing here!
                    </p>
                {% endfor %}
            </div>
        </div>
    </div>
{% endblock content %}
